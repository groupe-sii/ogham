
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-03-19
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>SMS | ogham</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
 
		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/cerulean/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="http://groupe-sii.github.io/ogham//css/bootswatch.css" rel="stylesheet" />
		<link href="http://groupe-sii.github.io/ogham//css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/github.min.css" rel="stylesheet" />

		<link href="http://groupe-sii.github.io/ogham//css/lightbox.css" rel="stylesheet" />

		<link href="http://groupe-sii.github.io/ogham//css/site.css" rel="stylesheet" />
		<link href="http://groupe-sii.github.io/ogham//css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="author" href="https://github.com/aurelien-baudet"/>
<link rel="stylesheet" href="http://groupe-sii.github.io/ogham//css/highlight-lines.css"/>
<link rel="stylesheet" href="http://groupe-sii.github.io/ogham//css/collapse-lines.css"/>
<link rel="stylesheet" href="http://groupe-sii.github.io/ogham//css/alternatives.css"/>
	</head>

	<body class="page-usage-how-to-send-sms project-ogham-parent" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="http://groupe-sii.github.io/ogham">Ogham</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="integration.html" title="Download">Download</a></li>
							<li ><a href="http://github.com/groupe-sii/ogham/" title="GitHub project" class="externalLink">GitHub project</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="Usage">Usage</a></li>
									<li ><a href="../config/index.html" title="Configuration">Configuration</a></li>
									<li ><a href="../extend/index.html" title="Extends">Extends</a></li>
									<li ><a href="../apidocs/index.html" title="Javadoc">Javadoc</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Spring <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="integration.html#integrate-with-spring-boot" title="Integration">Integration</a></li>
									<li ><a href="spring.html" title="Usage">Usage</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Samples <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://github.com/groupe-sii/ogham/tree/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/email" title="Email" class="externalLink">Email</a></li>
									<li ><a href="https://github.com/groupe-sii/ogham/tree/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/sms" title="SMS" class="externalLink">SMS</a></li>
									<li ><a href="https://github.com/groupe-sii/ogham/tree/master/sample-spring-usage/src/main/java/fr/sii/ogham/sample/springboot/" title="Spring" class="externalLink">Spring</a></li>
									<li ><a href="https://github.com/groupe-sii/ogham/tree/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/template/thymeleaf" title="Thymeleaf" class="externalLink">Thymeleaf</a></li>
									<li ><a href="https://github.com/groupe-sii/ogham/tree/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/template/freemarker" title="FreeMarker" class="externalLink">FreeMarker</a></li>
									<li ><a href="https://github.com/groupe-sii/ogham/tree/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/email/HtmlAndTextMixedTemplateEnginesSample.java" title="Mixing Thymeleaf & FreeMarker" class="externalLink">Mixing Thymeleaf & FreeMarker</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../contribute.html" title="Contribute">Contribute</a></li>
									<li ><a href="http://github.com/groupe-sii/ogham/issues/" title="Issues" class="externalLink">Issues</a></li>
									<li ><a href="http://github.com/groupe-sii/ogham/" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="http://groupe-sii.github.io/ogham" id="bannerLeft"><h1>Ogham</h1></a>
					<p class="lead">Open, General and Highly Adaptative Messaging library</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li class="publishDate version-date">Last Published: 2017-03-19</li>
				<li class="divider">|</li>
				<li><a href="../" title="Ogham">Ogham</a></li>
				<li class="divider">/</li>
				<li>SMS</li>
			</ul>
		</div>
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar" data-spy="affix" data-offset-top="250">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#toc-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse collapse" id="toc-nav-collapse">
						<ul id="toc" class="nav">
						<li class="toplevel"><a href="#SMS" title="SMS">SMS</a></li>
						<li class="dropdown">
							<a href="#Basic" title="Basic" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Basic <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Basic" title="Basic">Basic</a></li>
								<li class="divider"></li>
								<li><a href="#Load_properties_from_file" title="Load properties from file">Load properties from file</a></li>

							</ul>
						</li>
						<li class="toplevel"><a href="#Using_a_template" title="Using a template">Using a template</a></li>
						<li class="toplevel"><a href="#Sending_a_long_SMS" title="Sending a long SMS">Sending a long SMS</a></li>
						<li class="dropdown">
							<a href="#Spring_Boot" title="Spring Boot" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#">Spring Boot <b class="caret"></b></a>
							<ul class="dropdown-menu" role="menu">
								<!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
								<li><a href="#Spring_Boot" title="Spring Boot">Spring Boot</a></li>
								<li class="divider"></li>
								<li class="dropdown-submenu">
									<a href="#REST_web_service" title="REST web service">REST web service</a>
									<ul class="dropdown-menu" role="menu">
								<li><a href="#Basic_SMS" title="Basic SMS">Basic SMS</a></li>
								<li><a href="#SMS_with_template" title="SMS with template">SMS with template</a></li>

									</ul>
								</li>

							</ul>
						</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="section"> 
 <div class="page-header">
  <h2 id="SMS">SMS</h2>
 </div> 
 <p>The samples are available in the <a class="externalLink" href="https://github.com/groupe-sii/ogham/tree/master/sample-standard-usage">sample-standard-usage sub-project</a>.</p> 
 <p>All samples shown bellow are using SMPP for sending SMS. See <a href="../config/select-implementation.html">select implementation</a> to know other ways to send SMS.</p> 
 <div class="section"> 
  <h3 id="Basic"><a name="basic"></a>Basic</h3> 
  <p>The <a class="externalLink" href="https://en.wikipedia.org/wiki/Short_Message_Peer-to-Peer">SMPP</a> protocol is the standard way to send SMS. This sample defines two properties mandatory (system ID and password) by this protocol in order to use it. This sample is available <a class="externalLink" href="https://github.com/groupe-sii/ogham/blob/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/sms/BasicSample.java">here</a>.</p> 
  <p><span class="highlight" data-irrelevant-lines="1-9"></span> <span class="collapse" data-lines="1-9"></span></p> 
  <div class="source"> 
   <div class="source"> 
    <pre>package fr.sii.ogham.sample.standard.sms;

import java.util.Properties;

import fr.sii.ogham.core.builder.MessagingBuilder;
import fr.sii.ogham.core.exception.MessagingException;
import fr.sii.ogham.core.service.MessagingService;
import fr.sii.ogham.sms.message.Sms;

public class BasicSample {

	public static void main(String[] args) throws MessagingException {
		// configure properties (could be stored in a properties file or defined
		// in System properties)
		Properties properties = new Properties();
		properties.setProperty(&quot;ogham.sms.smpp.host&quot;, &quot;&lt;your server host&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.port&quot;, &quot;&lt;your server port&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.systemId&quot;, &quot;&lt;your server system ID&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.password&quot;, &quot;&lt;your server password&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.from&quot;, &quot;&lt;phone number to display for the sender&gt;&quot;);
		// Instantiate the messaging service using default behavior and
		// provided properties
		MessagingService service = new MessagingBuilder().useAllDefaults(properties).build();
		// send the sms
		service.send(new Sms(&quot;sms content&quot;, &quot;&lt;recipient phone number&gt;&quot;));
	}

}
</pre> 
   </div> 
  </div> 
  <p>If you prefer, you can also use the fluent API:</p> 
  <p><span class="highlight" data-lines="25-27" data-irrelevant-lines="1-9,13-23"></span> <span class="collapse" data-lines="1-9,13-23"></span></p> 
  <div class="source"> 
   <div class="source"> 
    <pre>package fr.sii.ogham.sample.standard.sms;

import java.util.Properties;

import fr.sii.ogham.core.builder.MessagingBuilder;
import fr.sii.ogham.core.exception.MessagingException;
import fr.sii.ogham.core.service.MessagingService;
import fr.sii.ogham.sms.message.Sms;

public class BasicSample {

	public static void main(String[] args) throws MessagingException {
		// configure properties (could be stored in a properties file or defined
		// in System properties)
		Properties properties = new Properties();
		properties.setProperty(&quot;ogham.sms.smpp.host&quot;, &quot;&lt;your server host&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.port&quot;, &quot;&lt;your server port&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.systemId&quot;, &quot;&lt;your server system ID&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.password&quot;, &quot;&lt;your server password&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.from&quot;, &quot;&lt;phone number to display for the sender&gt;&quot;);
		// Instantiate the messaging service using default behavior and
		// provided properties
		MessagingService service = new MessagingBuilder().useAllDefaults(properties).build();
		// send the sms using fluent API
		service.send(new Sms().
							content(&quot;sms content&quot;).
							to(&quot;&lt;recipient phone number&gt;&quot;));
	}

}
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="Load_properties_from_file"><a name="load-properties-from-file"></a>Load properties from file</h4> 
   <p>This sample shows how to send a basic SMS. The sample is available <a class="externalLink" href="https://github.com/groupe-sii/ogham/tree/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/sms/BasicSampleExternalProperties.java">here</a>.</p> 
   <p>If you want to put properties in a configuration file, you can create a properties file (sms.properties for example) in src/main/resources folder with the following content:</p> 
   <div class="source"> 
    <div class="source"> 
     <pre>ogham.sms.smpp.host&lt;your server host&gt;
ogham.sms.smpp.port=&lt;your server port&gt;
ogham.sms.smpp.systemId=&lt;your server system ID&gt;
ogham.sms.smpp.password=&lt;your server password&gt;
ogham.sms.from=&lt;phone number to display for the sender&gt;
</pre> 
    </div> 
   </div> 
   <p>And then load these properties before creating messaging service:</p> 
   <p><span class="highlight" data-lines="14-16" data-irrelevant-lines="1-10"></span> <span class="collapse" data-lines="1-10"></span></p> 
   <div class="source"> 
    <div class="source"> 
     <pre>package fr.sii.ogham.sample.standard.sms;

import java.io.IOException;
import java.util.Properties;

import fr.sii.ogham.core.builder.MessagingBuilder;
import fr.sii.ogham.core.exception.MessagingException;
import fr.sii.ogham.core.service.MessagingService;
import fr.sii.ogham.sms.message.Sms;

public class BasicSampleExternalProperties {

	public static void main(String[] args) throws MessagingException, IOException {
		// load properties (available at src/main/resources)
		Properties properties = new Properties();
		properties.load(BasicSampleExternalProperties.class.getResourceAsStream(&quot;/sms.properties&quot;));
		// Instantiate the messaging service using default behavior and
		// provided properties
		MessagingService service = new MessagingBuilder().useAllDefaults(properties).build();
		// send the sms
		service.send(new Sms(&quot;sms content&quot;, &quot;&lt;recipient phone number&gt;&quot;));
		// or using fluent API
		service.send(new Sms().
						content(&quot;sms content&quot;).
						to(&quot;&lt;recipient phone number&gt;&quot;));
	}

}

</pre> 
    </div> 
   </div> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Using_a_template"><a name="using-a-template"></a>Using a template</h3> 
  <p>Sending SMS with a templated content is exactly the same as sending email with a templated content. The sample is available <a class="externalLink" href="https://github.com/groupe-sii/ogham/blob/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/sms/TemplateSample.java">here</a>.</p> 
  <p>The first lines configure the properties that will be used by the sender. Then you must create the service. You can use the MessagingBuilder to help you to create the service. Finally, the last line sends the SMS. The specified SMS is really basic too. It only contains the templated content available in the classpath, a bean to use as source of variable substitutions and the receiver number. The sender number is automatically added to the SMS by the service based on configuration properties.</p> 
  <p><span class="highlight" data-lines="27,30" data-irrelevant-lines="1-11,15-25"></span> <span class="collapse" data-lines="1-11,15-25"></span></p> 
  <div class="source"> 
   <div class="source"> 
    <pre>package fr.sii.ogham.sample.standard.sms;

import java.util.Properties;

import fr.sii.ogham.context.SimpleBean;
import fr.sii.ogham.core.builder.MessagingBuilder;
import fr.sii.ogham.core.exception.MessagingException;
import fr.sii.ogham.core.message.content.TemplateContent;
import fr.sii.ogham.core.service.MessagingService;
import fr.sii.ogham.sms.message.Sms;

public class TemplateSample {

	public static void main(String[] args) throws MessagingException {
		// configure properties (could be stored in a properties file or defined
		// in System properties)
		Properties properties = new Properties();
		properties.setProperty(&quot;ogham.sms.smpp.host&quot;, &quot;&lt;your server host&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.port&quot;, &quot;&lt;your server port&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.systemId&quot;, &quot;&lt;your server system ID&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.password&quot;, &quot;&lt;your server password&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.from&quot;, &quot;&lt;phone number to display for the sender&gt;&quot;);
		// Instantiate the messaging service using default behavior and
		// provided properties
		MessagingService service = new MessagingBuilder().useAllDefaults(properties).build();
		// send the sms using constructor
		service.send(new Sms(new TemplateContent(&quot;classpath:/template/thymeleaf/simple.txt&quot;, new SimpleBean(&quot;foo&quot;, 42)), &quot;&lt;recipient phone number&gt;&quot;));
		// or send the sms using fluent API
		service.send(new Sms().
							content(new TemplateContent(&quot;classpath:/template/thymeleaf/simple.txt&quot;, new SimpleBean(&quot;foo&quot;, 42))).
							to(&quot;&lt;recipient phone number&gt;&quot;));
	}

}
</pre> 
   </div> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Sending_a_long_SMS"><a name="sending-long-sms"></a>Sending a long SMS</h3> 
  <p>As you may know, SMS stands for Short Message Service. Basically, the messages are limited to a maximum of 160 characters (depends of char encoding). If needed, the library will split your messages into several parts the right way to be recomposed by clients later. So the code doesnâ€™t change at all (the sample is available <a class="externalLink" href="https://github.com/groupe-sii/ogham/blob/master/sample-standard-usage/src/main/java/fr/sii/ogham/sample/standard/sms/LongMessageSample.java">here</a>):</p> 
  <p><span class="highlight" data-lines="25-26,29" data-irrelevant-lines="1-9,13-23"></span> <span class="collapse" data-lines="1-9,13-23"></span></p> 
  <div class="source"> 
   <div class="source"> 
    <pre>package fr.sii.ogham.sample.standard.sms;

import java.util.Properties;

import fr.sii.ogham.core.builder.MessagingBuilder;
import fr.sii.ogham.core.exception.MessagingException;
import fr.sii.ogham.core.service.MessagingService;
import fr.sii.ogham.sms.message.Sms;

public class LongMessageSample {

	public static void main(String[] args) throws MessagingException {
		// configure properties (could be stored in a properties file or defined
		// in System properties)
		Properties properties = new Properties();
		properties.setProperty(&quot;ogham.sms.smpp.host&quot;, &quot;&lt;your server host&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.port&quot;, &quot;&lt;your server port&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.systemId&quot;, &quot;&lt;your server system ID&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.smpp.password&quot;, &quot;&lt;your server password&gt;&quot;);
		properties.setProperty(&quot;ogham.sms.from&quot;, &quot;&lt;phone number to display for the sender&gt;&quot;);
		// Instantiate the messaging service using default behavior and
		// provided properties
		MessagingService service = new MessagingBuilder().useAllDefaults(properties).build();
		// send the sms using constructor
		String longMessage = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;;
		service.send(new Sms(longMessage, &quot;&lt;recipient phone number&gt;&quot;));
		// or send the sms using fluent API
		service.send(new Sms().
							content(longMessage).
							to(&quot;&lt;recipient phone number&gt;&quot;));
	}

}

</pre> 
   </div> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Spring_Boot"><a name="spring-boot"></a>Spring Boot</h3> 
  <p>See <a href="integration.html#integrate-with-spring-boot">Spring integration</a> to know how to use Ogham with Spring Boot.</p> 
  <p>Spring comes with very useful management of configuration properties (environment and profiles). Ogham module is able to use environment provided by Spring.</p> 
  <p>Add the following information in the application.properties (or according to profile, into the right configuration file):</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>ogham.sms.smpp.host&lt;your server host&gt;
ogham.sms.smpp.port=&lt;your server port&gt;
ogham.sms.smpp.systemId=&lt;your server system ID&gt;
ogham.sms.smpp.password=&lt;your server password&gt;
ogham.sms.from=&lt;phone number to display for the sender&gt;
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="REST_web_service">REST web service</h4> 
   <div class="section"> 
    <h5 id="Basic_SMS">Basic SMS</h5> 
    <p>To use Ogham in Spring, you can directly inject (autowire) it. Here is a fully Spring Boot application serving one REST endpoint for sending SMS using Ogham (<a class="externalLink" href="https://github.com/groupe-sii/ogham/blob/master/sample-spring-usage/src/main/java/fr/sii/ogham/sample/springboot/sms/BasicSample.java">sample available here</a>):</p> 
    <p><span class="highlight" data-lines="31-32,37-42" data-irrelevant-lines="1-17,19"></span> <span class="collapse" data-lines="1-17"></span></p> 
    <div class="source"> 
     <div class="source"> 
      <pre>package fr.sii.ogham.sample.springboot.sms;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.PropertySource;
import org.springframework.http.HttpStatus;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseStatus;
import org.springframework.web.bind.annotation.RestController;

import fr.sii.ogham.core.exception.MessagingException;
import fr.sii.ogham.core.service.MessagingService;
import fr.sii.ogham.sms.message.Sms;

@SpringBootApplication
@PropertySource(&quot;application-sms-basic.properties&quot;)	// just needed to be able to run the sample
public class BasicSample {

	public static void main(String[] args) throws MessagingException {
		SpringApplication.run(BasicSample.class, args);
	}
	
	@RestController
	public static class SmsController {
		// Messaging service is automatically created using Spring Boot features
		// The configuration can be set into application-sms-basic.properties
		// The configuration files are stored into src/main/resources
		@Autowired
		MessagingService messagingService;
		
		@RequestMapping(value=&quot;api/sms/basic&quot;, method=RequestMethod.POST)
		@ResponseStatus(HttpStatus.CREATED)
		public void sendSms(@RequestParam(&quot;content&quot;) String content, @RequestParam(&quot;to&quot;) String to) throws MessagingException {
			// send the SMS
			messagingService.send(new Sms(content, to));
			// or using fluent API
			messagingService.send(new Sms().
									content(content).
									to(to));
		}
	}

}
</pre> 
     </div> 
    </div> 
   </div> 
   <div class="section"> 
    <h5 id="SMS_with_template">SMS with template</h5> 
    <p><a class="externalLink" href="https://github.com/groupe-sii/ogham/blob/master/sample-spring-usage/src/main/java/fr/sii/ogham/sample/springboot/sms/TemplateSample.java">This sample</a> is a fully working Spring Boot application that exposes a simple REST endpoint for sending a SMS based on a template:</p> 
    <p><span class="highlight" data-lines="33-34,39-44" data-irrelevant-lines="1-19,21"></span> <span class="collapse" data-lines="1-19"></span></p> 
    <div class="source"> 
     <div class="source"> 
      <pre>package fr.sii.ogham.sample.springboot.sms;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.PropertySource;
import org.springframework.http.HttpStatus;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseStatus;
import org.springframework.web.bind.annotation.RestController;

import fr.sii.ogham.context.SimpleBean;
import fr.sii.ogham.core.exception.MessagingException;
import fr.sii.ogham.core.message.content.TemplateContent;
import fr.sii.ogham.core.service.MessagingService;
import fr.sii.ogham.sms.message.Sms;

@SpringBootApplication
@PropertySource(&quot;application-sms-template.properties&quot;)	// just needed to be able to run the sample
public class TemplateSample {

	public static void main(String[] args) throws MessagingException {
		SpringApplication.run(TemplateSample.class, args);
	}
	
	@RestController
	public static class SmsController {
		// Messaging service is automatically created using Spring Boot features
		// The configuration can be set into application-sms-template.properties
		// The configuration files are stored into src/main/resources
		@Autowired
		MessagingService messagingService;
		
		@RequestMapping(value=&quot;api/sms/template&quot;, method=RequestMethod.POST)
		@ResponseStatus(HttpStatus.CREATED)
		public void sendSms(@RequestParam(&quot;to&quot;) String to, @RequestParam(&quot;name&quot;) String name, @RequestParam(&quot;value&quot;) int value) throws MessagingException {
			// send the SMS
			messagingService.send(new Sms(new TemplateContent(&quot;register.txt&quot;, new SimpleBean(name, value)), to));
			// or using fluent API
			messagingService.send(new Sms().
									content(new TemplateContent(&quot;register.txt&quot;, new SimpleBean(name, value))).
									to(to));
		}
	}

}

</pre> 
     </div> 
    </div> 
    <p>That uses this <a class="externalLink" href="https://github.com/groupe-sii/ogham/blob/master/sample-spring-usage/src/main/resources/sms/register.txt">template</a>:</p> 
    <div class="source"> 
     <div class="source"> 
      <pre>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; th:inline=&quot;text&quot; th:remove=&quot;tag&quot;&gt;[[${name}]] [[${value}]]&lt;/html&gt;
</pre> 
     </div> 
    </div> 
    <p>The <a class="externalLink" href="https://github.com/groupe-sii/ogham/blob/master/sample-spring-usage/src/main/resources/application-sms-template.properties">configuration file</a> used for the sample:</p> 
    <div class="source"> 
     <div class="source"> 
      <pre># ogham configuration for SMS
ogham.sms.smpp.host&lt;your server host&gt;
ogham.sms.smpp.port=&lt;your server port&gt;
ogham.sms.smpp.systemId=&lt;your server system ID&gt;
ogham.sms.smpp.password=&lt;your server password&gt;
ogham.sms.from=&lt;phone number to display for the sender&gt;
ogham.sms.template.prefix=/sms/
</pre> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li >
							<a href="../" title="Home">Home</a>
						</li>
						<li >
							<a href="http://github.com/groupe-sii/ogham/" title="GitHub project" class="externalLink">GitHub project</a>
						</li>
						<li >
							<a href="../release-notes.html" title="Release notes">Release notes</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Download</li>
						<li >
							<a href="integration.html" title="Download">Download</a>
						</li>
						<li >
							<a href="../license.html" title="License">License</a>
						</li>
						<li class="nav-header">Contribute</li>
						<li >
							<a href="../contribute.html" title="Contribute">Contribute</a>
						</li>
						<li >
							<a href="http://github.com/groupe-sii/ogham/issues/" title="Issues" class="externalLink">Issues</a>
						</li>
						<li >
							<a href="http://github.com/groupe-sii/ogham/" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Documentation</li>
						<li >
							<a href="index.html" title="Usage">Usage</a>
						</li>
						<li >
							<a href="../config/index.html" title="Configuration">Configuration</a>
						</li>
						<li >
							<a href="../extend/index.html" title="Extends">Extends</a>
						</li>
						<li >
							<a href="../apidocs/index.html" title="Javadoc">Javadoc</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Maven documentation</li>
						<li >
							<a href="../project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="../project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>Open, General and Highly Adaptative Messaging
				library. It is
				a reusable
				Java library for sending any kind of message
				(email, SMS,
				mobile
				notification,
				tweet, SNMP...). The content of the
				message can
				comes from any
				templating engine (Thymeleaf, FreeMarker,
				Velocity,
				...). It also
				provides bridges for framework integration
				(Spring,
				JSF, ...). It
				is designed to be easily extended.</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2017. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 1.1.0. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="http://groupe-sii.github.io/ogham//js/lightbox.min.js"></script>
	<script src="http://groupe-sii.github.io/ogham//js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>
	
<script src="http://groupe-sii.github.io/ogham//js/site.js"></script>
<script src="http://groupe-sii.github.io/ogham//js/line-utils.js"></script>
<script src="http://groupe-sii.github.io/ogham//js/highlight-lines.js"></script>
<script src="http://groupe-sii.github.io/ogham//js/collapse-lines.js"></script>
<script src="http://groupe-sii.github.io/ogham//js/alternatives.js"></script>
	<script src="http://groupe-sii.github.io/ogham//js/reflow-skin.js"></script>

	</body>
</html>
